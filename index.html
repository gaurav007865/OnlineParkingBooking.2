<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Parking System</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
  <!-- Login Modal -->
  <div id="loginModal" class="receipt-modal" style="display:none;z-index:200;">
    <div class="receipt-content" style="min-width:320px;">
      <h3>Login</h3>
      <form id="loginForm" class="booking-form">
        <div class="form-group">
          <label for="loginId">ID</label>
          <input type="text" id="loginId" name="loginId" placeholder="User ID" required>
        </div>
        <div class="form-group">
          <label for="loginEmail">Email</label>
          <input type="email" id="loginEmail" name="loginEmail" placeholder="Email" required>
        </div>
        <div class="form-group">
          <label for="loginPassword">Password</label>
          <div style="position: relative;">
            <input type="password" id="loginPassword" name="loginPassword" placeholder="Password" required>
            <button type="button" id="togglePassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer;">üëÅÔ∏è</button>
          </div>
        </div>
        <div class="form-group">
          <label for="loginRole">Role</label>
          <select id="loginRole" name="loginRole" required>
            <option value="">Select Role</option>
            <option value="admin">Admin</option>
            <option value="user">User</option>
          </select>
        </div>
        <button type="submit" class="cta-btn">Login</button>
        <button type="button" id="showSignupBtn" class="cta-btn" style="margin-top:0.5rem;background:#eee;color:#333;">Sign Up</button>
      </form>
      <form id="signupForm" class="booking-form" style="display:none;">
        <div class="form-group">
          <label for="signupId">ID</label>
          <input type="text" id="signupId" name="signupId" placeholder="User ID" required>
        </div>
        <div class="form-group">
          <label for="signupEmail">Email</label>
          <input type="email" id="signupEmail" name="signupEmail" placeholder="Email" required>
        </div>
        <div class="form-group">
          <label for="signupPassword">Password</label>
          <input type="password" id="signupPassword" name="signupPassword" placeholder="Password" required>
        </div>
        <div class="form-group">
          <label for="signupRole">Role</label>
          <select id="signupRole" name="signupRole" required>
            <option value="">Select Role</option>
            <option value="user">User</option>
          </select>
        </div>
        <button type="submit" class="cta-btn">Sign Up</button>
        <button type="button" id="showLoginBtn" class="cta-btn" style="margin-top:0.5rem;background:#eee;color:#333;">Already have an account? Login</button>
      </form>
    </div>
  </div>
  <header>
    <nav class="navbar">
      <div class="logo-title">
        <img src="assets/logo.png" alt="Smart Parking Logo" class="logo"/>
        <span class="title">Smart Parking</span>
      </div>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#booking">Book Slot</a></li>
        <li><a href="#view">View Slots</a></li>
        <li><a href="#contact">Contact Us</a></li>
      </ul>
      <button id="darkModeToggle" title="Toggle Dark Mode">üåô</button>
      <button id="loginBtn" class="cta-btn" style="margin-left:1rem;">Login</button>
      <button id="logoutBtn" class="cta-btn" style="margin-left:1rem;display:none;">Logout</button>
      <button id="downloadReceiptBtn" class="cta-btn" style="margin-left:1rem;display:none;">üì∑ Download Receipt</button>
    </nav>
  </header>
  <main>
    <!-- Hero Section -->
    <section id="home" class="hero">
      <div class="hero-bg"></div>
      <div class="hero-content">
        <h1>Welcome to Smart Parking</h1>
        <p>Book your parking slot online, hassle-free!</p>
        <a href="#booking" class="cta-btn">Book Now</a>
      </div>
    </section>
    <!-- Booking Section -->
    <section id="booking" class="booking-section">
      <h2>Book Your Parking Slot</h2>
      <form id="bookingForm" class="booking-form">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
          <label for="vehicleNumber">Vehicle Number</label>
          <input type="text" id="vehicleNumber" name="vehicleNumber" required>
        </div>
        <div class="form-group">
          <label for="vehicleType">Vehicle Type</label>
          <select id="vehicleType" name="vehicleType" required>
            <option value="">Select</option>
            <option value="Car">Car</option>
            <option value="Bike">Bike</option>
          </select>
        </div>
        <div class="form-group">
          <label for="timeSlot">Time Slot</label>
          <select id="timeSlot" name="timeSlot" required>
            <option value="">Select</option>
            <option value="6:00 AM-8:00 AM">6:00 AM-8:00 AM</option>
            <option value="8:00 AM-10:00 AM">8:00 AM-10:00 AM</option>
            <option value="10:00 AM-12:00 PM">10:00 AM-12:00 PM</option>
            <option value="12:00 PM-2:00 PM">12:00 PM-2:00 PM</option>
            <option value="2:00 PM-4:00 PM">2:00 PM-4:00 PM</option>
            <option value="4:00 PM-6:00 PM">4:00 PM-6:00 PM</option>
            <option value="6:00 PM-8:00 PM">6:00 PM-8:00 PM</option>
            <option value="8:00 PM-10:00 PM">8:00 PM-10:00 PM</option>
            <option value="Whole Day (6:00 AM-10:00 PM)">Whole Day (6:00 AM-10:00 PM)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="slotNumber">Slot Number</label>
          <select id="slotNumber" name="slotNumber" required>
            <option value="">Select</option>
            <!-- Options will be filled dynamically by JS -->
          </select>
        </div>
        <button type="submit" class="cta-btn">Book Slot</button>
        <button type="button" id="demoBtn" class="cta-btn">Create Demo Bookings</button>
      </form>
      <div id="receiptModal" class="receipt-modal" style="display:none;">
        <div class="receipt-content">
          <h3>Booking Successful!</h3>
          <div id="receiptDetails"></div>
          <button id="downloadReceipt" class="cta-btn">Download Receipt</button>
          <button id="sendEmail" class="cta-btn">Send Email</button>
        </div>
      </div>
    </section>
    <!-- My Bookings Section (User) -->
    <section id="myBookingsSection" class="view-section" style="display:none;">
      <h2>My Bookings</h2>
      <div id="myBookingsTableContainer"></div>
    </section>
    <!-- Admin Dashboard Section -->
    <section id="adminDashboard" class="view-section" style="display:none;">
      <h2>Admin Dashboard</h2>
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h3>Manage Bookings</h3>
        <button id="resetSlotsBtn" class="btn btn-danger">Reset All Slots</button>
      </div>
      <div id="adminSlotsTableContainer"></div>
      <!-- Admin Create Booking Form -->
      <form id="adminCreateForm" class="booking-form" style="margin-top:2rem;">
        <h3>Create New Booking (Admin Only)</h3>
        <div class="form-group">
          <label for="adminName">Name</label>
          <input type="text" id="adminName" name="adminName" required>
        </div>
        <div class="form-group">
          <label for="adminEmail">Email</label>
          <input type="email" id="adminEmail" name="adminEmail" required>
        </div>
        <div class="form-group">
          <label for="adminVehicleNumber">Vehicle Number</label>
          <input type="text" id="adminVehicleNumber" name="adminVehicleNumber" required>
        </div>
        <div class="form-group">
          <label for="adminVehicleType">Vehicle Type</label>
          <select id="adminVehicleType" name="adminVehicleType" required>
            <option value="">Select</option>
            <option value="Car">Car</option>
            <option value="Bike">Bike</option>
          </select>
        </div>
        <div class="form-group">
          <label for="adminTimeSlot">Time Slot</label>
          <select id="adminTimeSlot" name="adminTimeSlot" required>
            <option value="">Select</option>
            <option value="6:00 AM-8:00 AM">6:00 AM-8:00 AM</option>
            <option value="8:00 AM-10:00 AM">8:00 AM-10:00 AM</option>
            <option value="10:00 AM-12:00 PM">10:00 AM-12:00 PM</option>
            <option value="12:00 PM-2:00 PM">12:00 PM-2:00 PM</option>
            <option value="2:00 PM-4:00 PM">2:00 PM-4:00 PM</option>
            <option value="4:00 PM-6:00 PM">4:00 PM-6:00 PM</option>
            <option value="6:00 PM-8:00 PM">6:00 PM-8:00 PM</option>
            <option value="8:00 PM-10:00 PM">8:00 PM-10:00 PM</option>
            <option value="Whole Day (6:00 AM-10:00 PM)">Whole Day (6:00 AM-10:00 PM)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="adminSlotNumber">Slot Number</label>
          <select id="adminSlotNumber" name="adminSlotNumber" required>
            <option value="">Select</option>
            <!-- Options will be filled dynamically by JS -->
          </select>
        </div>
        <button type="submit" class="cta-btn">Create Booking</button>
      </form>
      <!-- User Management Section -->
      <div id="userManagement" style="margin-top:2rem;">
        <h3>User Management</h3>
        <div id="usersTableContainer"></div>
      </div>
    </section>
    <!-- View Slots/Admin Section -->
    <section id="view" class="view-section">
      <h2>View All Slots</h2>
      <p>Check slot availability and remaining time for booked slots</p>
      <div id="searchGroup" class="search-group" style="display:none;">
        <input type="text" id="searchVehicle" placeholder="Search by Vehicle Number">
        <button id="searchBtn" class="cta-btn">Search</button>
      </div>
      <div id="slotsTableContainer">
        <!-- Slots table will be rendered here by JS -->
      </div>
      <div class="map-placeholder">
        <h3>Parking Layout</h3>
        <!-- <img src="assets/parking-map.png" alt="Parking Map" style="max-width:100%;height:auto;"> -->
      </div>
    </section>
  </main>
  <footer id="contact">
    <p>Contact Us: kanadegaurav81g@email.com | +1 878 8030 512</p>
    <p>&copy; 2025 Smart Parking. All rights reserved.</p>
  </footer>
  <script src="script.js"></script>
</body>
</html>